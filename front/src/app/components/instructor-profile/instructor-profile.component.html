<div class="container rounded bg-white mt-5 mb-5">
    <div class="row">
    
        <div class="col-md-5 border-right">
            <div class="p-1 py-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="text-right">Edit Profile</h4>
                </div>
                <form class="content" [formGroup]="editInstructorForm" (ngSubmit)="submitData()">
                <div class="row mt-2">
                    <div class="col-md-6"><label class="labels">First name:</label><input type="text" formControlName="firstName" [(ngModel)]="instructorChange.firstName"  class="form-control" placeholder="First Name"/>
                        <div *ngIf="firstName.invalid && (firstName.touched || firstName.dirty)">
                            <span class="error" *ngIf="firstName.errors?.required">First Name is required</span>
                            <span class="error" *ngIf="firstName.errors?.pattern">Only letters allowed.First letter must be capital.</span>
                        </div>
                    </div>
                    <div class="col-md-6"><label class="labels">Last name:</label><input type="text" formControlName="lastName" [(ngModel)]="instructorChange.lastName"  class="form-control" placeholder="Last Name"/>
                        <div *ngIf="lastName.invalid && (lastName.touched || lastName.dirty)">
                            <span class="error" *ngIf="lastName.errors?.required">Last Name is required</span>
                            <span class="error" *ngIf="lastName.errors?.pattern">Only letters allowed.First letter must be capital.</span>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12"><label class="labels">Mobile number:</label><input type="text" formControlName="mobileNumber" [(ngModel)]="instructorChange.mobileNumber"  class="form-control" placeholder="Mobile number"/>
                        <div *ngIf="mobileNumber.invalid && (mobileNumber.touched || mobileNumber.dirty)">
                            <span class="error" *ngIf="mobileNumber.errors?.required">Mobile number is required</span>
                            <span class="error" *ngIf="mobileNumber.errors?.pattern">Only numbers allowed</span>
                        </div>
                    </div>
                    <div class="col-md-12"><label class="labels">Address:</label> <input type="text" formControlName="address" [(ngModel)]="instructorChange.address"  class="form-control" placeholder="Address"/>
                        <div *ngIf="address.invalid && (address.touched || address.dirty)">
                            <span class="error" *ngIf="address.errors?.required">Address is required</span>
                            <span class="error" *ngIf="address.errors?.pattern">Enter valid address </span>
                        </div>
                    </div>
                    <div class="col-md-12"><label class="labels">Contry:</label><input type="text" formControlName="country" [(ngModel)]="instructorChange.country"  class="form-control" placeholder="Country"/>
                        <div *ngIf="country.invalid && (country.touched || country.dirty)">
                            <span class="error" *ngIf="country.errors?.required">Country is required</span>
                            <span class="error" *ngIf="country.errors?.pattern">Only letters allowed.First letter must be capital.</span>
                        </div>
                    </div>
                    <div class="col-md-12"><label class="labels">E-mail:</label><input type="text"  [value]="instructorChange.email" class="form-control" placeholder="E-mail" disabled/>
                        
                    </div>
                    <div class="col-md-12"><label class="labels">City:</label><input type="text" formControlName="city" [(ngModel)]="instructorChange.city"  class="form-control" placeholder="City"/>
                        <div *ngIf="city.invalid && (city.touched || city.dirty)">
                            <span class="error" *ngIf="city.errors?.required">City is required</span>
                            <span class="error" *ngIf="city.errors?.pattern">Only letters allowed.First letter must be capital.</span>
                        </div>
                    </div>
                    <div class="col-md-12"><label class="labels">Reason:</label><input type="text" formControlName="reason" [(ngModel)]="instructorChange.reason"  class="form-control" placeholder="Reason of registration"/>
                        <div *ngIf="reason.invalid && (reason.touched || reason.dirty)">
                            <span class="error" *ngIf="reason.errors?.required">Reason is required</span>
                            <span class="error" *ngIf="reason.errors?.pattern">Only letters allowed</span>
                        </div>
                    </div>
                    <div class="col-md-12"><label class="labels">Current password</label><input type="password" formControlName="password" [(ngModel)]="instructorChange.password"  class="form-control" placeholder="Password"/>
                        <div *ngIf="password.invalid && (password.touched || password.dirty)">
                            <span class="error" *ngIf="password.errors?.required">Password is required</span>
                            <span class="error" *ngIf="password.errors?.pattern">Only letters allowed</span>
                        </div>
                        <div *ngIf="wrongPassword1">
                            <span class="error">Password is wrong</span>
                        </div>
                    </div>
                    <div class="mt-5 text-center"><button class="btn btn-primary profile-button" [disabled]="editInstructorForm.invalid">Edit Profile</button></div>
                    
                </div>
            </form>
                <form class="content" [formGroup]="editPasswordForm" (ngSubmit)="submitPassword()">
                <div class="row mt-3">
                    <div class="col-md-12"><label class="labels">Current password</label><input type="password" formControlName="currentPassword"  class="form-control" placeholder="Password"/>
                        <div *ngIf="currentPassword.invalid && (currentPassword.touched || currentPassword.dirty)">
                            <span class="error" *ngIf="currentPassword.errors?.required">Password is required</span>
                            <span class="error" *ngIf="currentPassword.errors?.pattern">Only letters allowed</span>
                        </div>
                        <div *ngIf="wrongPassword">
                            <span class="error">Password is wrong</span>
                        </div>
                    </div>
                    <div class="col-md-12"><label class="labels">New password</label><input type="password" formControlName="newPassword" [(ngModel)]="passwordChange.password"  class="form-control" placeholder="Password"/>
                        <div *ngIf="newPassword.invalid && (newPassword.touched || newPassword.dirty)">
                            <span class="error" *ngIf="newPassword.errors?.required">Password is required</span>
                            <span class="error" *ngIf="newPassword.errors?.pattern">Only letters allowed</span>
                        </div>
                    </div>
                    <div class="col-md-12"><label class="labels">Repeat new password</label><input type="password" formControlName="newPassword1" (focusout)="validatePass()"  class="form-control" placeholder="Password"/>
                        <div *ngIf="newPassword1.invalid && (newPassword1.touched || newPassword1.dirty)">
                            <span class="error" *ngIf="newPassword1.errors?.required">Password is required</span>
                            <span class="error" *ngIf="newPassword1.errors?.pattern">Only letters allowed</span>
                        </div>
                        <div *ngIf="wrongPassword2">
                            <span class="error">Passwords are not the same</span>
                        </div>
                    </div>
                </div>
                <div class="mt-5 text-center"><button class="btn btn-primary profile-button" [disabled]="editPasswordForm.invalid">Edit Password</button></div>
                </form>
                
                
            </div>
            <div class="col-md-12"><label class="labels">Reason:</label><input type="text" id="reasonOfDelete" class="form-control" placeholder="Reason of request"/>
            </div>
            <button (click)="requestDelete()" class="list-item btn btn-primaty bg-danger btn-lg text-white">Request account delete</button>
            <div *ngIf="alreadySent">
                <span class="error">Already sent</span>
            </div>
            
        </div>
    


        <div class="col">
            <div class="p-1 pt-5 mt-5 py-5 row">

                <div class="page-content page-container col" id="page-content">
                        <div class="row">
                            
                            <div class="col">
                                <div class="container-fluid d-flex justify-content-center">
                                    <div class="list list-row card" >
                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead class="thead-light">
                                                    <tr>
                                                        <th scope="col">Name</th>
                                                        <th scope="col">Address</th>
                                                        <th scope="col">Description</th>
                                                    </tr>
                                                </thead>
                                                <tbody *ngFor="let item of instructorFavors;let indexOfelement=index;">
                                                    <tr >
                                                        <td scope="col">{{item.name}}</td>
                                                        <td scope="col">{{item.address}}</td>
                                                        <td scope="col">{{item.description}}</td>
                                                        <td> <button class="btn btn-primary" > Edit </button> </td> 
                                                        <td> <button class="btn btn-danger" (click)="removeFavor(indexOfelement)"> Remove </button> </td> 
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <p *ngIf="errorMessage" style="color: red; font-size: 20px;"> Favor is reserved! </p>
                                        </div>        
                                        <button (click)="addNewFavor()" class="list-item btn btn-primaty bg-success btn-lg text-white">Add new favor</button>
                                    </div>
                                </div>
                            </div>
                    </div>
                </div>
               
            </div>
            
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body text-center">
                    <h5 class="card-title m-b-0">Reservations</h5>
                </div>
                <div class="table-responsive">
                    <table class="table">
                        <thead class="thead-light">
                            <tr >
                                <th scope="col">From</th>
                                <th scope="col">To</th>
                                <th scope="col">Cost</th>
                                <th scope="col">Client</th>
                                <th scope="col">Address</th>
                                <th scope="col">Name</th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let item of instructorReservations">
                            <tr >
                                <td scope="col">{{item.availableFrom}}</td>
                                <td scope="col">{{item.availableTill}}</td>
                                <td scope="col">{{item.cost}}</td>
                                <td scope="col">{{item.client.firstName}} {{item.client.lastName}}</td>
                                <td scope="col">{{item.favor.address}}</td>
                                <td scope="col">{{item.favor.name}}</td>
                                <td scope="col"> <button type="button" (click)="seeUserProfile(item.client.email)" class="btn btn-primary btn-md mr-1 mb-2">See profile</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

